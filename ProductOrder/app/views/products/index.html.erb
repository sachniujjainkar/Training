<script>
$(document).ready(function(){
    $('.search').on('keyup',function(){
        var searchTerm = $(this).val().toLowerCase();
        $('#productTbl tbody tr').each(function(){
            var lineStr = $(this).text().toLowerCase();
            if(lineStr.indexOf(searchTerm) === -1){
                $(this).hide();
            }else{
                $(this).show();
            }
        });
    });
});
</script>

<p id="notice"><%= notice %></p>

<h1>Products</h1>

<div class="form-group pull-right">
    <input type="text" class="search form-control" placeholder="Search">
</div><br>

<table id="productTbl">
  <thead>
    <tr>
      <th>Name</th>
      <th>Sku</th>
      <th>Quantity</th>
      <th>Length</th>
      <th>Width</th>
      <th>Height</th>
      <th>Weight</th>
      <th>Price</th>
      <th>Image</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.sku %></td>
        <td><%= product.quantity %></td>
        <td><%= product.length %></td>
        <td><%= product.width %></td>
        <td><%= product.height %></td>
        <td><%= product.weight %></td>
        <td><%= product.price %></td>
        <td><%= image_tag(product.image_url(:thumb).to_s) %></td>
        <td><%= link_to 'Show', product %></td>
        <td><%= link_to 'Edit', edit_product_path(product) %></td>
        <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Product', new_product_path %>
