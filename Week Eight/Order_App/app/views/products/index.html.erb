<script type="text/javascript">
$(document).ready(function(){
   $('.search').on('keyup',function(){
       var searchTerm = $(this).val().toLowerCase();
       $('#productTbl tbody tr').each(function(){
           var lineStr = $(this).text().toLowerCase();
           if(lineStr.indexOf(searchTerm) === -1){
               $(this).hide();
           }else{
               $(this).show();
           }
       });
   });
});
</script>
<p id="notice"><%= notice %></p>


<h1 align="center">Products</h1>

<%= form_tag(products_path, method: :get) do %>
  <%= text_field_tag :name, params[:name] %>
  <%= submit_tag 'Search', name: nil  %>
<% end %>

<table  border-collapse: separate class="table table-striped">
  <thead>
    <tr class="success">
      <th>Sku</th>
      <th>Name</th>
      <th>Quantity</th>
      <th>Length</th>
      <th>Width</th>
      <th>Height</th>
      <th>Weight</th>
      <th>Cost price</th>
      <th>Storage type</th>
      <th>Prduct image</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.sku %></td>
        <td><%= product.name %></td>
        <td><%= product.quantity %></td>
        <td><%= product.length %></td>
        <td><%= product.width %></td>
        <td><%= product.height %></td>
        <td><%= product.weight %></td>
        <td><%= product.cost_price %></td>
        <td><%= product.storage_type %></td>
        <td>
       <%#= product.prduct_image %>
     <%#= image_tag (product.prduct_image_url(:thumb).to_s)  %>
<%= image_tag product.prduct_image, :size => "60x50", class: "img-responsive" %>
</td>

       <td><%= link_to 'Show', product , class: "btn btn-info"%></td>
        <td><%= link_to 'Edit', edit_product_path(product), class: "btn btn-info" %></td>
        <td><%= link_to 'Destroy', product, class: "btn btn-info",method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<!-- # <%= link_to 'New Product', new_product_path %>
 -->